# RangeX Complete Database ERD (Entity Relationship Diagram)

**Database**: `rangex`  
**Total Tables**: 59  
**Date**: January 6, 2026  
**Database Engine**: MySQL 9.3

---

## ğŸ“Š Database Statistics

| Metric | Count |
|--------|-------|
| Total Tables | 59 |
| Core Entities | 15 |
| Relationship Tables | 12 |
| Logging/Audit Tables | 8 |
| Configuration Tables | 5 |
| Support Tables | 19 |
| Foreign Key Relationships | 50+ |

---

## ğŸ—‚ï¸ Table Categories

### 1. Core User & Authentication (3 tables)
- `user` - User accounts and profiles
- `creator_preferences` - Creator-specific settings
- `notification` - User notifications

### 2. Scenario & Content (7 tables)
- `scenario` - Base scenario metadata
- `scenario_version` - Versioned scenario content
- `scenario_limit` - Resource constraints
- `scenario_ratings` - User ratings
- `machine` - Container/VM definitions
- `tool` - Auto-install tools catalog
- `asset` - File uploads

### 3. Environment & Sessions (6 tables)
- `environment_session` - Active challenge sessions
- `environment_machine` - Deployed containers
- `environment_image` - Session images
- `deployment_environment` - Environment configs
- `session_network_topology` - Network design
- `session_security_groups` - Firewall rules

### 4. Docker & Images (6 tables)
- `docker_image` - Image catalog
- `image_variants` - Image versions
- `docker_credential` - Registry auth
- `platform_image` - Curated images
- `registry_credential` - Private registry secrets
- `image_pipeline_stages` - Build pipeline

### 5. Events & Competitions (5 tables)
- `event` - Competition metadata
- `event_scenario` - Event challenges
- `event_participation` - User participation
- `event_registration` - Event signups
- `event_sessions` - Event challenge sessions

### 6. Teams & Collaboration (5 tables)
- `team` - Team profiles
- `team_member` - Membership
- `team_join_request` - Join requests
- `team_badge` - Team achievements
- `user_favorites` - Saved scenarios

### 7. Learning Paths (4 tables)
- `career_path` - Learning paths
- `career_path_item` - Path steps
- `playlist` - Curated collections
- `playlist_item` - Playlist contents

### 8. Gamification (3 tables)
- `badge` - Achievement definitions
- `badge_requirement` - Badge criteria
- `user_badge` - User achievements

### 9. System & Admin (9 tables)
- `system_setting` - Key-value config
- `system_settings` - Platform configuration
- `audit_log` - Activity tracking
- `usage_daily` - Cost tracking
- `job` - Background tasks
- `interface_endpoint` - Network interfaces
- `network_pivot_points` - Network connections
- `scenario_asset` - Asset relationships
- `asset_scenario_version` - Version-specific assets

### 10. Testing & Monitoring (11 tables)
- `test_deployment` - Test environments
- `scenario_version_test_runs` - Test results
- `scenario_version_admin_test` - Admin testing
- `admin_test_validation` - Validation rules
- `docker_tests` - Docker test runs
- `gui_sessions` - GUI sessions
- `orphaned_tasks_log` - Orphaned containers
- `aws_config_checks` - AWS health checks
- `budget_alerts` - Budget warnings
- `alert_logs` - Alert history
- `migrations` - Database migrations

---

## ğŸ”— Complete Entity Relationship Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           USER & AUTHENTICATION                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         USER             â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id (varchar)         â”‚
    â”‚ UNI email                â”‚
    â”‚     passwordHash         â”‚
    â”‚     displayName          â”‚
    â”‚     isActive             â”‚
    â”‚     roleSolver           â”‚
    â”‚     roleCreator          â”‚
    â”‚     roleAdmin            â”‚
    â”‚     twofaSecret          â”‚
    â”‚     avatarUrl            â”‚
    â”‚     lastLoginAt          â”‚
    â”‚     lastIp               â”‚
    â”‚     passwordUpdatedAt    â”‚
    â”‚     createdAt            â”‚
    â”‚     updatedAt            â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                                                 â”‚
           â”‚                                                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  CREATOR_PREFERENCES       â”‚              â”‚   NOTIFICATION        â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                     â”‚              â”‚ PK  id                â”‚
    â”‚ UNI userId (FK â†’ user)     â”‚              â”‚ FK  userId            â”‚
    â”‚ FK  preferredAttacker...   â”‚              â”‚     title             â”‚
    â”‚ FK  preferredVictim...     â”‚              â”‚     body              â”‚
    â”‚ FK  preferredService...    â”‚              â”‚     type              â”‚
    â”‚     defaultResourceProfile â”‚              â”‚     isRead            â”‚
    â”‚     dockerRegistryUrl      â”‚              â”‚     createdAt         â”‚
    â”‚     dockerUsername         â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚     dockerPasswordEncryptedâ”‚
    â”‚     notifyOnApproval       â”‚
    â”‚     notifyOnRejection      â”‚
    â”‚     costAlertThreshold     â”‚
    â”‚     createdAt/updatedAt    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SCENARIO & CONTENT MANAGEMENT                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      SCENARIO            â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                   â”‚
    â”‚ UNI slug                 â”‚
    â”‚     averageRating        â”‚
    â”‚     totalRatings         â”‚
    â”‚     createdByUserId      â”‚â”€â”€â”
    â”‚     isPublished          â”‚  â”‚
    â”‚     createdAt/updatedAt  â”‚  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
           â”‚                      â”‚
           â”‚                      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    SCENARIO_VERSION                  â”‚           â”‚ SCENARIO_RATINGS  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                               â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚ PK  id            â”‚
    â”‚ FK  scenarioId (FK â†’ scenario)       â”‚           â”‚ FK  userId        â”‚
    â”‚ FK  lastAdminTestId                  â”‚           â”‚ FK  scenarioId    â”‚
    â”‚     versionNumber                    â”‚           â”‚     rating        â”‚
    â”‚     status (draft/review/published)  â”‚           â”‚     createdAt     â”‚
    â”‚     title                            â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚     shortDescription                 â”‚
    â”‚     difficulty                       â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     category                         â”‚           â”‚ SCENARIO_LIMIT    â”‚
    â”‚     tags (JSON)                      â”‚           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚     estimatedMinutes                 â”‚           â”‚ PK  id            â”‚
    â”‚     scenarioType                     â”‚           â”‚ FK  scenarioId    â”‚
    â”‚     missionText                      â”‚           â”‚     maxConcurrent â”‚
    â”‚     solutionWriteup                  â”‚           â”‚     Players       â”‚
    â”‚     coverImageUrl                    â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚     questions (JSON)                 â”‚
    â”‚     hints (JSON)                     â”‚
    â”‚     codeOfEthics                     â”‚
    â”‚     validationMode/scoringMode       â”‚
    â”‚     network_topology (JSON)          â”‚
    â”‚     dockerComposePath                â”‚
    â”‚     ecrImagesPushed                  â”‚
    â”‚     fargateTaskDefinition            â”‚
    â”‚     buildStatus/publishedAt          â”‚
    â”‚     createdAt/updatedAt              â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         MACHINE                     â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                              â”‚
    â”‚ FK  scenarioVersionId               â”‚
    â”‚ FK  imageVariantId                  â”‚
    â”‚ FK  registryCredentialId            â”‚
    â”‚     name                            â”‚
    â”‚     role (attacker/victim)          â”‚
    â”‚     imageSourceType                 â”‚
    â”‚     imageRef                        â”‚
    â”‚     networkGroup                    â”‚
    â”‚     resourceProfile                 â”‚
    â”‚     allowSolverEntry                â”‚
    â”‚     isPivotHost                     â”‚
    â”‚     cpuCores/memoryMb/diskGb        â”‚
    â”‚     exposedPorts (JSON)             â”‚
    â”‚     sshEnabled/rdpEnabled/webEnabledâ”‚
    â”‚     environmentVars (JSON)          â”‚
    â”‚     entrypoints (JSON)              â”‚
    â”‚     ecrUri/ecrDigest                â”‚
    â”‚     taskDefinitionArn               â”‚
    â”‚     sshUsername/sshPassword         â”‚
    â”‚     networkEgressPolicy             â”‚
    â”‚     createdAt/updatedAt             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ENVIRONMENT & SESSION MANAGEMENT                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    ENVIRONMENT_SESSION                â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                               â”‚
    â”‚ FK  userId                           â”‚
    â”‚ FK  scenarioVersionId                â”‚
    â”‚ FK  eventId                          â”‚
    â”‚ FK  teamId                           â”‚
    â”‚     status (running/paused/...)      â”‚
    â”‚     startedAt                        â”‚
    â”‚     expiresAt                        â”‚
    â”‚     stoppedAt                        â”‚
    â”‚     reasonStopped                    â”‚
    â”‚     gatewaySessionToken              â”‚
    â”‚     envProfile                       â”‚
    â”‚     costAccumulatedRm                â”‚
    â”‚     softLimitWarned                  â”‚
    â”‚     answers (JSON)                   â”‚
    â”‚     score                            â”‚
    â”‚     clientIp/clientUserAgent         â”‚
    â”‚     lastActivityAt                   â”‚
    â”‚     pausedRemainingSeconds           â”‚
    â”‚     isTest                           â”‚
    â”‚     version                          â”‚
    â”‚     awsTaskArn                       â”‚
    â”‚     gatewayIp                        â”‚
    â”‚     createdAt/updatedAt              â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                      â”‚                    â”‚                    â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
    â”‚ ENVIRONMENT_MACHINE  â”‚  â”‚SESSION_NETWORK_   â”‚ â”‚SESSION_SECURITY_   â”‚â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚TOPOLOGY           â”‚ â”‚GROUPS              â”‚â”‚
    â”‚ PK  id               â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
    â”‚ FK  environmentSess..â”‚  â”‚ PK  id            â”‚ â”‚ PK  id             â”‚â”‚
    â”‚ FK  machineId        â”‚  â”‚ FK  session_id    â”‚ â”‚ FK  session_id     â”‚â”‚
    â”‚     taskArn          â”‚  â”‚     machine_name  â”‚ â”‚ FK  machine_id     â”‚â”‚
    â”‚     privateIp        â”‚  â”‚     machine_role  â”‚ â”‚ UNI security_group â”‚â”‚
    â”‚     securityGroupId  â”‚  â”‚     network_group â”‚ â”‚     _id            â”‚â”‚
    â”‚     role             â”‚  â”‚     task_arn      â”‚ â”‚     network_group  â”‚â”‚
    â”‚     machineTemplateIdâ”‚  â”‚     private_ip    â”‚ â”‚     security_group â”‚â”‚
    â”‚     status           â”‚  â”‚     subnet_id     â”‚ â”‚     _name          â”‚â”‚
    â”‚     createdAt        â”‚  â”‚     security_gro..â”‚ â”‚     status         â”‚â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     network_inte..â”‚ â”‚     created_at     â”‚â”‚
                              â”‚     status        â”‚ â”‚     deleted_at     â”‚â”‚
                              â”‚     created_at    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
                                                                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â””â”€â–ºâ”‚ ENVIRONMENT_IMAGE      â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ PK  id                 â”‚
       â”‚ FK  environment_id     â”‚
       â”‚ FK  docker_image_id    â”‚
       â”‚     container_name     â”‚
       â”‚     ports_mapping      â”‚
       â”‚     environment_vars   â”‚
       â”‚     created_at         â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       DOCKER & IMAGE MANAGEMENT                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      DOCKER_IMAGE                â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                           â”‚
    â”‚ FK  createdBy (FK â†’ user)        â”‚
    â”‚     name                         â”‚
    â”‚     tag                          â”‚
    â”‚     description                  â”‚
    â”‚     category                     â”‚
    â”‚     registryUrl                  â”‚
    â”‚     isPublic                     â”‚
    â”‚     isVerified                   â”‚
    â”‚     isReadyImage                 â”‚
    â”‚     minioPath                    â”‚
    â”‚     imageSizeMb                  â”‚
    â”‚     pullCount                    â”‚
    â”‚     lastPulledAt                 â”‚
    â”‚     ecrImageDigest               â”‚
    â”‚     createdAt/updatedAt          â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚       IMAGE_VARIANTS                    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                                  â”‚
    â”‚     baseOs                              â”‚
    â”‚     variantType                         â”‚
    â”‚     imageRef                            â”‚
    â”‚     displayName                         â”‚
    â”‚     description                         â”‚
    â”‚     cpuCores/memoryMb/diskGb            â”‚
    â”‚     hourlyCostRm                        â”‚
    â”‚     suitableForRoles                    â”‚
    â”‚     includedTools                       â”‚
    â”‚     isActive/isAdminApproved            â”‚
    â”‚     tags/version                        â”‚
    â”‚     imageCategory                       â”‚
    â”‚     defaultEntrypoints (JSON)           â”‚
    â”‚     hasGui                              â”‚
    â”‚     recommendedNetworkGroup             â”‚
    â”‚     defaultNetworkGroup                 â”‚
    â”‚     defaultNetworkEgressPolicy          â”‚
    â”‚     defaultHealthcheck (JSON)           â”‚
    â”‚     createdAt/updatedAt                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   REGISTRY_CREDENTIAL          â”‚       â”‚  DOCKER_CREDENTIAL       â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                         â”‚       â”‚ PK  id                   â”‚
    â”‚     label                      â”‚       â”‚ FK  userId               â”‚
    â”‚     registryUrl                â”‚       â”‚     username             â”‚
    â”‚     usernameEnc (varbinary)    â”‚       â”‚     registryUrl          â”‚
    â”‚     passwordOrTokenEnc         â”‚       â”‚     passwordEncrypted    â”‚
    â”‚     createdByUserId            â”‚       â”‚     createdAt/updatedAt  â”‚
    â”‚     isActive                   â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚     lastUsedAt                 â”‚
    â”‚     lastTestedAt               â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     status                     â”‚       â”‚  PLATFORM_IMAGE          â”‚
    â”‚     createdAt/updatedAt        â”‚       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ PK  id                   â”‚
                                              â”‚     label                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     imageRef             â”‚
    â”‚  IMAGE_PIPELINE_STAGES             â”‚   â”‚     compatibleAttacker   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚     compatibleInternal   â”‚
    â”‚ PK  id (auto_increment)            â”‚   â”‚     compatibleService    â”‚
    â”‚     image_name                     â”‚   â”‚     purposeTags (JSON)   â”‚
    â”‚     image_tag                      â”‚   â”‚     resourceProfile      â”‚
    â”‚     scenario_id                    â”‚   â”‚     isActive             â”‚
    â”‚     scenario_version_id            â”‚   â”‚     createdAt/updatedAt  â”‚
    â”‚     creator_user_id                â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚     current_stage (enum)           â”‚
    â”‚     local_built_at                 â”‚
    â”‚     staging_uploaded_at            â”‚
    â”‚     staging_minio_path             â”‚
    â”‚     review_started_at/completed_at â”‚
    â”‚     reviewer_user_id               â”‚
    â”‚     approved_at/approver_user_id   â”‚
    â”‚     production_deployed_at         â”‚
    â”‚     ecr_repository/ecr_image_digestâ”‚
    â”‚     security_scan_results (JSON)   â”‚
    â”‚     status/error_message           â”‚
    â”‚     created_at/updated_at          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       EVENTS & COMPETITIONS                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         EVENT                â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                       â”‚
    â”‚     name                     â”‚
    â”‚     description              â”‚
    â”‚     startDate/endDate        â”‚
    â”‚     timezone                 â”‚
    â”‚     maxParticipants          â”‚
    â”‚     format                   â”‚
    â”‚     participatingTeamIds     â”‚
    â”‚     registrationRequired     â”‚
    â”‚     createdByUserId          â”‚
    â”‚     coverImageUrl            â”‚
    â”‚     createdAt/updatedAt      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚               â”‚                â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚EVENT_SCENARIO â”‚  â”‚EVENT_REGISTRATIONâ”‚ â”‚EVENT_PARTICIP...â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id        â”‚  â”‚ PK  id           â”‚ â”‚ PK  id          â”‚
    â”‚ FK  eventId   â”‚  â”‚ FK  eventId      â”‚ â”‚ FK  eventId     â”‚
    â”‚ FK  scenario..â”‚  â”‚ FK  userId       â”‚ â”‚ FK  userId      â”‚
    â”‚     sortOrder â”‚  â”‚     createdAt    â”‚ â”‚ FK  teamId      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     participant â”‚
                                             â”‚     Type        â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     totalPoints â”‚
           â”‚                                 â”‚     challenges  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚     Completed   â”‚
    â”‚  EVENT_SESSIONS   â”‚                   â”‚     rank        â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚     registeredAtâ”‚
    â”‚ PK  id            â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ FK  eventId       â”‚
    â”‚ FK  participationIdâ”‚
    â”‚ FK  scenarioVersionâ”‚
    â”‚ FK  userId        â”‚
    â”‚     mode          â”‚
    â”‚     status        â”‚
    â”‚     score         â”‚
    â”‚     progressPct   â”‚
    â”‚     startedAt     â”‚
    â”‚     finishedAt    â”‚
    â”‚     answers (JSON)â”‚
    â”‚     answersHash   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        TEAMS & COLLABORATION                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           TEAM               â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                       â”‚
    â”‚     name                     â”‚
    â”‚     description              â”‚
    â”‚     motto                    â”‚
    â”‚     country                  â”‚
    â”‚     avatarUrl                â”‚
    â”‚     ownerUserId              â”‚
    â”‚     leaderId                 â”‚
    â”‚     maxMembers               â”‚
    â”‚     openTeam                 â”‚
    â”‚     registrationsOpen        â”‚
    â”‚     eventPoints              â”‚
    â”‚     createdAt/updatedAt      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚              â”‚                â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
    â”‚ TEAM_MEMBER   â”‚ â”‚TEAM_JOIN_REQ â”‚ â”‚ TEAM_BADGE    â”‚â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
    â”‚ PK  id        â”‚ â”‚ PK  id       â”‚ â”‚ PK  id        â”‚â”‚
    â”‚ FK  teamId    â”‚ â”‚ FK  teamId   â”‚ â”‚ FK  teamId    â”‚â”‚
    â”‚ FK  userId    â”‚ â”‚ FK  userId   â”‚ â”‚ FK  badgeId   â”‚â”‚
    â”‚     role      â”‚ â”‚     status   â”‚ â”‚     earnedAt  â”‚â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚     message  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                      â”‚     createdAtâ”‚                  â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                                                        â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â””â”€â–ºâ”‚ USER_FAVORITES  â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ PK  id          â”‚
       â”‚ FK  userId      â”‚
       â”‚ FK  scenarioId  â”‚
       â”‚     createdAt   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         LEARNING PATHS & PLAYLISTS                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     CAREER_PATH          â”‚              â”‚      PLAYLIST        â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                   â”‚              â”‚ PK  id               â”‚
    â”‚     title                â”‚              â”‚     title            â”‚
    â”‚     description          â”‚              â”‚     description      â”‚
    â”‚     isPublic             â”‚              â”‚     isPublic         â”‚
    â”‚     ownerUserId          â”‚              â”‚     ownerUserId      â”‚
    â”‚     coverImageUrl        â”‚              â”‚     coverImageUrl    â”‚
    â”‚     createdAt/updatedAt  â”‚              â”‚     createdAt/update â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                         â”‚
           â”‚                                         â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  CAREER_PATH_ITEM     â”‚              â”‚   PLAYLIST_ITEM       â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                â”‚              â”‚ PK  id                â”‚
    â”‚ FK  careerPathId      â”‚              â”‚ FK  playlistId        â”‚
    â”‚ FK  scenarioVersionId â”‚              â”‚ FK  scenarioVersionId â”‚
    â”‚     sortOrder         â”‚              â”‚     sortOrder         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            GAMIFICATION                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         BADGE            â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                   â”‚
    â”‚     name                 â”‚
    â”‚     description          â”‚
    â”‚     iconUrl              â”‚
    â”‚     criteria             â”‚
    â”‚     createdAt/updatedAt  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                  â”‚                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
    â”‚ BADGE_REQUIREMENT â”‚  â”‚  USER_BADGE     â”‚â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
    â”‚ PK  id            â”‚  â”‚ PK  id          â”‚â”‚
    â”‚ FK  badgeId       â”‚  â”‚ FK  userId      â”‚â”‚
    â”‚ FK  scenarioId    â”‚  â”‚ FK  badgeId     â”‚â”‚
    â”‚     requirementTypeâ”‚ â”‚     earnedAt    â”‚â”‚
    â”‚     createdAt     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
                                              â”‚
                         (Also TEAM_BADGE) â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      TESTING & DEPLOYMENT                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    DEPLOYMENT_ENVIRONMENT            â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                              â”‚
    â”‚ FK  scenarioVersionId               â”‚
    â”‚     deploymentName                  â”‚
    â”‚     status                          â”‚
    â”‚     gatewayEndpoint                 â”‚
    â”‚     ecrRepositoryPrefix             â”‚
    â”‚     gatewayTaskArn                  â”‚
    â”‚     machineTaskArns (JSON)          â”‚
    â”‚     entrypointsConfig (JSON)        â”‚
    â”‚     vpcEndpointIds (JSON)           â”‚
    â”‚     infraStackName                  â”‚
    â”‚     deployedAt/parkedAt/deletedAt   â”‚
    â”‚     createdAt/updatedAt             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     TEST_DEPLOYMENT                  â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                              â”‚
    â”‚ FK  scenarioVersionId               â”‚
    â”‚     status                          â”‚
    â”‚     progress (JSON)                 â”‚
    â”‚     ecsTaskArns (JSON)              â”‚
    â”‚     networkInterfaces (JSON)        â”‚
    â”‚     estimatedCostPerHour            â”‚
    â”‚     startedAt/completedAt           â”‚
    â”‚     cleanedAt                       â”‚
    â”‚     errorMessage                    â”‚
    â”‚     sessionSecurityGroupId          â”‚
    â”‚     createdAt/updatedAt             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   SCENARIO_VERSION_ADMIN_TEST            â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                                  â”‚
    â”‚ FK  scenarioVersionId                   â”‚
    â”‚ FK  createdByAdminId                    â”‚
    â”‚     status (enum)                       â”‚
    â”‚     mode (enum)                         â”‚
    â”‚     startedAt/finishedAt                â”‚
    â”‚     duration                            â”‚
    â”‚     reportJson (JSON)                   â”‚
    â”‚     summary                             â”‚
    â”‚     errorMessage                        â”‚
    â”‚     testSessionId                       â”‚
    â”‚     gatewayIp                           â”‚
    â”‚     createdAt                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ADMIN_TEST_VALIDATION            â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                            â”‚
    â”‚ FK  adminTestId                   â”‚
    â”‚     machineId/machineName         â”‚
    â”‚     checkType (enum)              â”‚
    â”‚     checkTarget                   â”‚
    â”‚     status (enum)                 â”‚
    â”‚     message                       â”‚
    â”‚     details (JSON)                â”‚
    â”‚     checkedAt                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  SCENARIO_VERSION_TEST_RUNS          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                              â”‚
    â”‚ FK  scenarioVersionId               â”‚
    â”‚ FK  initiatedBy                     â”‚
    â”‚     status (enum)                   â”‚
    â”‚     deploymentId                    â”‚
    â”‚     sessionToken                    â”‚
    â”‚     gatewayProxyUrl                 â”‚
    â”‚     testResults (JSON)              â”‚
    â”‚     logs                            â”‚
    â”‚     errorMessage                    â”‚
    â”‚     startedAt/completedAt           â”‚
    â”‚     createdAt/updatedAt             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      DOCKER_TESTS                    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id (auto_increment)             â”‚
    â”‚ UNI test_id                         â”‚
    â”‚     user_id/scenario_id             â”‚
    â”‚     compose_content (longtext)      â”‚
    â”‚     container_ids (JSON)            â”‚
    â”‚     test_results (JSON)             â”‚
    â”‚     status (enum)                   â”‚
    â”‚     started_at                      â”‚
    â”‚     validation_completed_at         â”‚
    â”‚     stopped_at                      â”‚
    â”‚     error_message                   â”‚
    â”‚     logs (longtext)                 â”‚
    â”‚     network_name                    â”‚
    â”‚     cleanup_completed               â”‚
    â”‚     metadata (JSON)                 â”‚
    â”‚     created_at/updated_at           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚       GUI_SESSIONS                   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id (auto_increment)             â”‚
    â”‚ UNI session_id                      â”‚
    â”‚     user_id/scenario_id             â”‚
    â”‚     environment_session_id          â”‚
    â”‚     os_type/gui_type (enum)         â”‚
    â”‚     connection_url                  â”‚
    â”‚     vnc_port/novnc_port/rdp_port    â”‚
    â”‚     container_id                    â”‚
    â”‚     status (enum)                   â”‚
    â”‚     started_at                      â”‚
    â”‚     last_activity                   â”‚
    â”‚     stopped_at                      â”‚
    â”‚     error_message                   â”‚
    â”‚     metadata (JSON)                 â”‚
    â”‚     created_at/updated_at           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       MONITORING & LOGGING                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      AUDIT_LOG                  â”‚     â”‚    ALERT_LOGS             â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                          â”‚     â”‚ PK  id (auto_increment)   â”‚
    â”‚     timestamp                   â”‚     â”‚     alert_type (enum)     â”‚
    â”‚     userId                      â”‚     â”‚     priority (enum)       â”‚
    â”‚     actionType                  â”‚     â”‚     channel (enum)        â”‚
    â”‚     details (JSON)              â”‚     â”‚     recipient             â”‚
    â”‚     ipAddress                   â”‚     â”‚     subject/message       â”‚
    â”‚     userAgent                   â”‚     â”‚     metadata (JSON)       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚     status (enum)         â”‚
                                             â”‚     sent_at               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚     error_message         â”‚
    â”‚  ORPHANED_TASKS_LOG             â”‚     â”‚     retry_count           â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚     created_at            â”‚
    â”‚ PK  id (auto_increment)         â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚     task_arn                    â”‚
    â”‚     user_id/scenario_id         â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     started_at                  â”‚     â”‚   AWS_CONFIG_CHECKS       â”‚
    â”‚     detected_at                 â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚     terminated_at               â”‚     â”‚ PK  id (auto_increment)   â”‚
    â”‚     last_activity               â”‚     â”‚     check_type (enum)     â”‚
    â”‚     running_minutes             â”‚     â”‚     service_name          â”‚
    â”‚     inactive_minutes            â”‚     â”‚     status (enum)         â”‚
    â”‚     estimated_cost              â”‚     â”‚     message               â”‚
    â”‚     termination_reason          â”‚     â”‚     details (JSON)        â”‚
    â”‚     status (enum)               â”‚     â”‚     auto_healed           â”‚
    â”‚     error_message               â”‚     â”‚     heal_action           â”‚
    â”‚     metadata (JSON)             â”‚     â”‚     checked_at            â”‚
    â”‚     created_at                  â”‚     â”‚     created_at            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      BUDGET_ALERTS              â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id (auto_increment)         â”‚
    â”‚     scenario_id                 â”‚
    â”‚     alert_month                 â”‚
    â”‚     current_cost                â”‚
    â”‚     budget_limit                â”‚
    â”‚     percentage_used             â”‚
    â”‚     grace_period_starts         â”‚
    â”‚     grace_period_ends           â”‚
    â”‚     grace_period_hours          â”‚
    â”‚     auto_shutdown_enabled       â”‚
    â”‚     shutdown_at                 â”‚
    â”‚     status (enum)               â”‚
    â”‚     admin_notified              â”‚
    â”‚     forecast_end_of_month       â”‚
    â”‚     metadata (JSON)             â”‚
    â”‚     created_at/updated_at       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SUPPORT & CONFIGURATION                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         SYSTEM_SETTINGS                      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id                                      â”‚
    â”‚     maintenanceMode                         â”‚
    â”‚     maintenanceMessage                      â”‚
    â”‚     maxConcurrentUsers                      â”‚
    â”‚     maxTotalUsers                           â”‚
    â”‚     allowNewRegistrations                   â”‚
    â”‚     maxSessionsPerUser/Hour/Day             â”‚
    â”‚     idleTimeoutMinutes                      â”‚
    â”‚     maxSessionDurationMinutes               â”‚
    â”‚     maxTotalContainers                      â”‚
    â”‚     maxAccessibleScenarios                  â”‚
    â”‚     allowAllScenarios                       â”‚
    â”‚     budgetHardCapUsd                        â”‚
    â”‚     budgetAlertPercentage                   â”‚
    â”‚     autoMaintenanceOnBudgetCap              â”‚
    â”‚     maxStoragePerUserBytes                  â”‚
    â”‚     maxTotalStorageBytes                    â”‚
    â”‚     storageDriver                           â”‚
    â”‚     minioEndpoint/Port/UseSSL               â”‚
    â”‚     minioAccessKey/SecretKey/Bucket         â”‚
    â”‚     awsRegion                               â”‚
    â”‚     awsEcsClusterName                       â”‚
    â”‚     awsEcsSubnetIds/SecurityGroupIds        â”‚
    â”‚     awsEcrRegistry                          â”‚
    â”‚     useLocalDocker                          â”‚
    â”‚     dockerMaxContainers                     â”‚
    â”‚     dockerMaxCpusPerContainer               â”‚
    â”‚     dockerMaxMemoryMbPerContainer           â”‚
    â”‚     dockerTestTimeoutMinutes                â”‚
    â”‚     dockerEnablePullFromHub                 â”‚
    â”‚     enablePrometheusMetrics                 â”‚
    â”‚     enableRequestLogging                    â”‚
    â”‚     logRetentionDays                        â”‚
    â”‚     sendErrorNotifications                  â”‚
    â”‚     adminEmails                             â”‚
    â”‚     slackWebhookUrl                         â”‚
    â”‚     updatedAt                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   SYSTEM_SETTING        â”‚    â”‚    USAGE_DAILY           â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  key                 â”‚    â”‚ PK  date                 â”‚
    â”‚     value (text)        â”‚    â”‚     envHoursMicro        â”‚
    â”‚     createdAt/updatedAt â”‚    â”‚     envHoursSmall        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚     envHoursMedium       â”‚
                                    â”‚     envHoursLarge        â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚     totalEstimatedCostRm â”‚
    â”‚          JOB            â”‚    â”‚     vcpuCostRm           â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚     memoryCostRm         â”‚
    â”‚ PK  id                  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚     type                â”‚
    â”‚     status              â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     payload (JSON)      â”‚    â”‚    ASSET                 â”‚
    â”‚     attempts            â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚     error/result        â”‚    â”‚ PK  id                   â”‚
    â”‚     startedAt           â”‚    â”‚     name                 â”‚
    â”‚     completedAt         â”‚    â”‚     type                 â”‚
    â”‚     createdAt/updatedAt â”‚    â”‚     storageKey           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚     sizeBytes            â”‚
                                    â”‚     createdByUserId      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     scenarioVersionId    â”‚
    â”‚  INTERFACE_ENDPOINT      â”‚   â”‚     createdAt            â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ PK  id                   â”‚
    â”‚     label                â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     type                 â”‚   â”‚ ASSET_SCENARIO_VERSION   â”‚
    â”‚     value                â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚     notes                â”‚   â”‚ PK  id                   â”‚
    â”‚     createdAt/updatedAt  â”‚   â”‚ FK  assetId              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ FK  scenarioVersionId    â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  NETWORK_PIVOT_POINTS    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚   SCENARIO_ASSET         â”‚
    â”‚ PK  id                   â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ FK  scenario_version_id  â”‚   â”‚ PK  id                   â”‚
    â”‚     source_network_group â”‚   â”‚ FK  scenarioVersionId    â”‚
    â”‚     target_network_group â”‚   â”‚ FK  machineId            â”‚
    â”‚     description          â”‚   â”‚     assetType (enum)     â”‚
    â”‚     created_at           â”‚   â”‚     fileName             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚     fileUrl              â”‚
                                    â”‚     fileSize             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     targetPath           â”‚
    â”‚         TOOL             â”‚   â”‚     permissions          â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚     assetLocation (enum) â”‚
    â”‚ PK  id                   â”‚   â”‚     minioPath            â”‚
    â”‚     name                 â”‚   â”‚     deletedFromMinio     â”‚
    â”‚     description          â”‚   â”‚     description          â”‚
    â”‚     version              â”‚   â”‚     uploadedAt           â”‚
    â”‚     category             â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚     installCommand       â”‚
    â”‚     website/iconUrl      â”‚
    â”‚     fileUrl              â”‚
    â”‚     fileSizeBytes        â”‚
    â”‚     fileChecksum         â”‚
    â”‚     tags (JSON)          â”‚
    â”‚     isActive             â”‚
    â”‚     packageName          â”‚
    â”‚     packageManager       â”‚
    â”‚     usageCount           â”‚
    â”‚     createdAt/updatedAt  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      MIGRATIONS         â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ PK  id (auto_increment) â”‚
    â”‚     timestamp           â”‚
    â”‚     name                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”‘ Foreign Key Relationships (50+)

### User Relationships
- `creator_preferences.userId` â†’ `user.id`
- `docker_credential.userId` â†’ `user.id`
- `docker_image.createdBy` â†’ `user.id`
- `event_participation.userId` â†’ `user.id`
- `event_registration.userId` â†’ `user.id`
- `team_join_request.userId` â†’ `user.id`
- `team_member.userId` â†’ `user.id`
- `user_badge.userId` â†’ `user.id`
- `user_favorites.userId` â†’ `user.id`
- `scenario_ratings.userId` â†’ `user.id`
- `scenario_version_admin_test.createdByAdminId` â†’ `user.id`
- `scenario_version_test_runs.initiatedBy` â†’ `user.id`

### Scenario Version Relationships
- `scenario_version.scenarioId` â†’ `scenario.id`
- `scenario_version.lastAdminTestId` â†’ `scenario_version_admin_test.id`
- `machine.scenarioVersionId` â†’ `scenario_version.id`
- `career_path_item.scenarioVersionId` â†’ `scenario_version.id`
- `playlist_item.scenarioVersionId` â†’ `scenario_version.id`
- `event_scenario.scenarioVersionId` â†’ `scenario_version.id`
- `deployment_environment.scenarioVersionId` â†’ `scenario_version.id`
- `test_deployment.scenarioVersionId` â†’ `scenario_version.id`
- `scenario_asset.scenarioVersionId` â†’ `scenario_version.id`
- `asset_scenario_version.scenarioVersionId` â†’ `scenario_version.id`
- `badge_requirement.scenarioId` â†’ `scenario_version.id`
- `scenario_version_admin_test.scenarioVersionId` â†’ `scenario_version.id`
- `scenario_version_test_runs.scenarioVersionId` â†’ `scenario_version.id`
- `network_pivot_points.scenario_version_id` â†’ `scenario_version.id`
- `event_sessions.scenarioVersionId` â†’ `scenario_version.id`

### Session Relationships
- `environment_machine.environmentSessionId` â†’ `environment_session.id`
- `environment_image.environment_id` â†’ `environment_session.id`
- `session_network_topology.session_id` â†’ `environment_session.id`
- `session_security_groups.session_id` â†’ `environment_session.id`

### Image Relationships
- `machine.imageVariantId` â†’ `image_variants.id`
- `creator_preferences.preferredAttackerVariantId` â†’ `image_variants.id`
- `creator_preferences.preferredVictimVariantId` â†’ `image_variants.id`
- `creator_preferences.preferredServiceVariantId` â†’ `image_variants.id`
- `environment_image.docker_image_id` â†’ `docker_image.id`

### Event Relationships
- `event_scenario.eventId` â†’ `event.id`
- `event_participation.eventId` â†’ `event.id`
- `event_registration.eventId` â†’ `event.id`
- `event_sessions.eventId` â†’ `event.id`
- `event_participation.teamId` â†’ `team.id`

### Team Relationships
- `team_member.teamId` â†’ `team.id`
- `team_join_request.teamId` â†’ `team.id`
- `team_badge.teamId` â†’ `team.id`

### Badge Relationships
- `badge_requirement.badgeId` â†’ `badge.id`
- `user_badge.badgeId` â†’ `badge.id`
- `team_badge.badgeId` â†’ `badge.id`

### Content Organization
- `career_path_item.careerPathId` â†’ `career_path.id`
- `playlist_item.playlistId` â†’ `playlist.id`
- `scenario_limit.scenarioId` â†’ `scenario.id`
- `user_favorites.scenarioId` â†’ `scenario.id`
- `scenario_ratings.scenarioId` â†’ `scenario.id`

### Asset Relationships
- `asset_scenario_version.assetId` â†’ `asset.id`
- `scenario_asset.machineId` â†’ `machine.id`

### Machine & Registry
- `machine.registryCredentialId` â†’ `registry_credential.id`

### Testing
- `admin_test_validation.adminTestId` â†’ `scenario_version_admin_test.id`
- `event_sessions.participationId` â†’ `event_participation.id`

---

## ğŸ“ˆ Database Indexes

### Primary Keys (59)
Every table has a primary key (mostly UUIDs, some auto-increment integers)

### Unique Constraints
- `user.email`
- `scenario.slug`
- `creator_preferences.userId`
- `session_security_groups.security_group_id`
- `docker_tests.test_id`
- `gui_sessions.session_id`

### Foreign Key Indexes (50+)
All FK relationships are indexed for query performance

### Composite Indexes
- `(scenarioId, version)` on scenario_version
- `(userId, status)` on environment_session
- `(createdAt)` on job, audit_log, environment_session
- `(status)` on multiple tables (machine, scenario_version, job, etc.)
- `(is_test)` on environment_session
- `(alert_type, priority, status)` on alert_logs
- `(check_type, status, service_name)` on aws_config_checks

---

## ğŸ’¾ Data Types Summary

### Common Patterns
- **IDs**: `varchar(36)` for UUIDs, `int auto_increment` for sequences
- **Text**: `varchar` for short strings, `text/longtext` for long content
- **JSON**: Used for flexible data (questions, tags, metadata, configuration)
- **Timestamps**: `datetime` with `DEFAULT_GENERATED` and `on update CURRENT_TIMESTAMP`
- **Booleans**: `tinyint(1)` (MySQL convention)
- **Enums**: Used for status fields, types, categories
- **Decimals**: Used for costs and ratings
- **Binary**: `varbinary` for encrypted credentials

### JSON Columns (40+)
Used extensively for:
- Configuration (entrypoints, healthcheck, environment vars)
- Flexible data (tags, metadata, questions, hints)
- Arrays (ports, container IDs, task ARNs)
- Complex objects (test results, scan results, network topology)

---

## ğŸ”’ Security Features

### Encrypted Fields
- `registry_credential.usernameEnc` (varbinary)
- `registry_credential.passwordOrTokenEnc` (varbinary)
- `creator_preferences.dockerPasswordEncrypted` (text)
- `docker_credential.passwordEncrypted` (text)

### Audit & Tracking
- Most tables have `createdAt` and `updatedAt` timestamps
- `audit_log` tracks all significant actions
- IP address and user agent tracking in sessions
- Soft deletes with `deletedAt` fields

### Access Control
- Role-based fields (`roleSolver`, `roleCreator`, `roleAdmin`)
- Ownership tracking (`createdByUserId`, `ownerUserId`)
- Status-based access (`isPublic`, `isActive`, `isArchived`)

---

## ğŸ“Š Performance Considerations

### Indexes Created
- All foreign keys are indexed
- Status fields are indexed
- Created/updated timestamps are indexed
- Composite indexes for common query patterns

### JSON Performance
- JSON columns allow flexibility but may require special indexing for deep queries
- Consider generated columns for frequently queried JSON paths

### Table Sizes (Estimated Growth)
- **High Volume**: `audit_log`, `environment_session`, `usage_daily`, `alert_logs`
- **Medium Volume**: `scenario_version`, `machine`, `user`, `event_sessions`
- **Low Volume**: `system_settings`, `badge`, `career_path`, `playlist`

### Optimization Recommendations
1. Regular cleanup of old audit logs
2. Archive completed sessions older than 6 months
3. Partition `usage_daily` by month/year
4. Index JSON fields that are frequently queried
5. Monitor slow query log for optimization opportunities

---

## ğŸ”„ Relationship Summary

### One-to-Many Relationships (30+)
- User â†’ Sessions, Scenarios, Notifications, Badges
- Scenario â†’ Versions, Ratings, Limits
- ScenarioVersion â†’ Machines, Tests, Assets
- Event â†’ Registrations, Participations, Sessions
- Team â†’ Members, Join Requests, Badges

### Many-to-Many (via Junction Tables) (10+)
- Users â†” Badges (user_badge)
- Teams â†” Badges (team_badge)
- Events â†” Scenarios (event_scenario)
- Playlists â†” Scenarios (playlist_item)
- Career Paths â†” Scenarios (career_path_item)
- Users â†” Scenarios (user_favorites)
- Events â†” Users (event_participation, event_registration)
- Teams â†” Users (team_member)

### Self-Referencing
- None currently implemented

---

## ğŸ¯ Key Design Patterns

1. **Versioning**: Scenario versions allow tracking changes over time
2. **Soft Deletes**: `deletedAt` fields preserve data while hiding from queries
3. **Audit Trail**: Comprehensive logging of all actions
4. **Flexible JSON**: Configuration and metadata stored as JSON
5. **Encryption**: Sensitive credentials encrypted at rest
6. **Status Tracking**: Enum fields for workflow states
7. **Cost Tracking**: Detailed usage and cost estimation
8. **Multi-Tenancy**: User/team ownership with access controls

---

**Last Updated**: January 6, 2026  
**Database Version**: Production Ready  
**Schema Status**: âœ… Complete with 59 Tables
